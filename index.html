<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سیستم نمایش محتوای پویا</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .status {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            font-size: 1rem;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            background-color: #4CAF50;
            border-radius: 50%;
            margin-left: 10px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .template {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .template:hover {
            transform: translateY(-10px) rotate3d(1, 0, 0, 10deg);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }
        
        .template::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #ff8a00, #e52e71);
        }
        
        .template h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #ff8a00;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .content {
            min-height: 150px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            font-size: 1.1rem;
            line-height: 1.6;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .empty {
            color: rgba(255, 255, 255, 0.6);
            font-style: italic;
        }
        
        .path {
            margin-top: 15px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            text-align: left;
            direction: ltr;
            word-break: break-all;
        }
        
        .last-update {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 10px;
            text-align: left;
        }
        
        @media (max-width: 768px) {
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        .loading-bar {
            height: 4px;
            width: 100%;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .loading-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00c9ff, #92fe9d);
            border-radius: 2px;
            transition: width 10s linear;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>سیستم نمایش محتوای پویا</h1>
            <p>این سیستم هر ۱۰ ثانیه محتوای فایل‌های متنی را بررسی و به روز می‌کند</p>
            <div class="status">
                <span>وضعیت: در حال بروزرسانی</span>
                <div class="status-dot"></div>
            </div>
        </header>
        
        <div class="templates-grid">
            <div class="template">
                <h2>قالب اول</h2>
                <div class="content" id="content1">
                    <span class="empty">در حال بارگذاری محتوا...</span>
                </div>
                <div class="path">مسیر: m.txt</div>
                <div class="last-update" id="time1">آخرین بروزرسانی: -</div>
                <div class="loading-bar">
                    <div class="loading-progress" id="progress1"></div>
                </div>
            </div>
            
            <div class="template">
                <h2>قالب دوم</h2>
                <div class="content" id="content2">
                    <span class="empty">در حال بارگذاری محتوا...</span>
                </div>
                <div class="path">مسیر: m1.txt</div>
                <div class="last-update" id="time2">آخرین بروزرسانی: -</div>
                <div class="loading-bar">
                    <div class="loading-progress" id="progress2"></div>
                </div>
            </div>
            
            <div class="template">
                <h2>قالب سوم</h2>
                <div class="content" id="content3">
                    <span class="empty">در حال بارگذاری محتوا...</span>
                </div>
                <div class="path">مسیر: m2.txt</div>
                <div class="last-update" id="time3">آخرین بروزرسانی: -</div>
                <div class="loading-bar">
                    <div class="loading-progress" id="progress3"></div>
                </div>
            </div>
            
            <div class="template">
                <h2>قالب چهارم</h2>
                <div class="content" id="content4">
                    <span class="empty">در حال بارگذاری محتوا...</span>
                </div>
                <div class="path">مسیر: m3.txt</div>
                <div class="last-update" id="time4">آخرین بروزرسانی: -</div>
                <div class="loading-bar">
                    <div class="loading-progress" id="progress4"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // مسیر فایل‌ها
        const filePaths = ['m.txt', 'm1.txt', 'm2.txt', 'm3.txt'];
        
        // تابع برای بارگذاری محتوای فایل
        async function loadFileContent(filePath, index) {
            try {
                // شبیه‌سازی بارگذاری فایل - در محیط واقعی باید از fetch استفاده کنید
                // const response = await fetch(filePath);
                // const content = await response.text();
                
                // شبیه‌سازی محتوای فایل (در محیط واقعی خطوط بالا را استفاده کنید)
                const mockContents = [
                    "این محتوای فایل اول است. شما می‌توانید هر متنی را در فایل m.txt قرار دهید.",
                    "سلام! این محتوای فایل دوم است. فایل m1.txt می‌تواند حاوی اطلاعات مهم باشد.",
                    "فایل سوم (m2.txt) می‌تواند شامل داده‌های پویا از یک سیستم باشد.",
                    "محتوای فایل چهارم (m3.txt) در اینجا نمایش داده می‌شود. هر ۱۰ ثانیه بروز می‌شود."
                ];
                
                // شبیه‌سازی تاخیر شبکه
                await new Promise(resolve => setTimeout(resolve, 500 + Math.random() * 1000));
                
                // استفاده از محتوای شبیه‌سازی شده (در محیط واقعی از خطوط کامنت شده بالا استفاده کنید)
                const content = mockContents[index];
                
                // نمایش محتوا
                const contentElement = document.getElementById(`content${index + 1}`);
                if (content && content.trim() !== '') {
                    contentElement.innerHTML = content;
                    contentElement.classList.remove('empty');
                } else {
                    contentElement.innerHTML = '<span class="empty">فایل خالی است یا محتوایی ندارد</span>';
                    contentElement.classList.add('empty');
                }
                
                // نمایش زمان بروزرسانی
                const now = new Date();
                const timeString = now.toLocaleTimeString('fa-IR');
                document.getElementById(`time${index + 1}`).textContent = `آخرین بروزرسانی: ${timeString}`;
                
            } catch (error) {
                console.error(`خطا در بارگذاری فایل ${filePath}:`, error);
                const contentElement = document.getElementById(`content${index + 1}`);
                contentElement.innerHTML = '<span class="empty">خطا در بارگذاری فایل</span>';
                contentElement.classList.add('empty');
            }
        }
        
        // تابع برای بروزرسانی همه فایل‌ها
        function updateAllFiles() {
            // راه‌اندازی نوارهای پیشرفت
            for (let i = 1; i <= 4; i++) {
                const progressBar = document.getElementById(`progress${i}`);
                progressBar.style.width = '0%';
                progressBar.style.transition = 'none';
                void progressBar.offsetWidth; // trigger reflow
                progressBar.style.transition = 'width 10s linear';
                progressBar.style.width = '100%';
            }
            
            // بارگذاری محتوای همه فایل‌ها
            filePaths.forEach((path, index) => {
                loadFileContent(path, index);
            });
        }
        
        // بارگذاری اولیه
        document.addEventListener('DOMContentLoaded', () => {
            updateAllFiles();
            
            // تنظیم تایمر برای بروزرسانی هر ۱۰ ثانیه
            setInterval(updateAllFiles, 10000);
        });
    </script>
</body>
</html>